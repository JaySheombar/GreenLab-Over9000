(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{166:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return d});var i=n(4),a=n(0),r=n(28),o=n.n(r),u=n(94),c=function(e,t){return e+":"+t},d=function(e){var t=a.a.get("googleAnalytics.trackers.editorial"),n={play:"metric1",skip:"metric2",25:"metric3",50:"metric4",75:"metric5",end:"metric6"},r=function(e){var t={video:{id:"gu-video-youtube-"+e.mediaId,eventType:"video:content:"+e.eventType}};o.a.record(t)};["play","25","50","75","end"].forEach(function(a){i.a.once(c(a,e),function(i){var o={mediaId:e,mediaType:"video",eventType:a,isPreroll:!1};r(o),window.ga(t+".send","event",Object(u.a)(o,n,i,"gu-video-youtube",function(){return"video content"},e))})}),r({mediaId:e,mediaType:"video",eventType:"ready",isPreroll:!1})},s=function(e,t){i.a.emit(c(e,t),t)}},273:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var i=n(93),a=function(e){Object.keys(e).forEach(function(t){i.a.set("accessibility."+t,e[t])})},r=function(e){return!0===function(e){return!1!==i.a.get("accessibility."+e)}(e)}},275:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(9),a=n.n(i),r=n(0),o=n(272),u=n(225),c=new Promise(function(e){window.YT&&window.YT.Player?e():window.onYouTubeIframeAPIReady=e}),d=function(e){e&&e.classList.add("youtube__video-started")},s=function(e){return document.getElementById("youtube-"+e)},f=function(e,t,n,i){return Object(o.a)("https://www.youtube.com/iframe_api",{}),c.then(function(){return function(e,t,n,i,a,o){var c=!1!==Object(u.b)(u.e),d=!r.a.get("switches.youtubeRelatedVideos"),s=!d&&n?[n]:[];return new window.YT.Player(e,{videoId:t,width:"100%",height:"100%",events:{onReady:i,onStateChange:a,onError:function(e){console.error("YOUTUBE: "+e)}},embedConfig:{adsConfig:{nonPersonalizedAd:!c},relatedChannels:s,disableRelatedVideos:d}})}(e.id,n,i,function(e){var i=s(n);(function(e){return e.target.getCurrentTime()>0})(e)&&d(i),function(e,t,n){a.a.write(function(){n&&n.classList.add("youtube__video-ready")}),t&&"function"==typeof t.onPlayerReady&&t.onPlayerReady(e)}(e,t,i)},function(e){!function(e,t,n){if(n&&r.a.get("page.isDev")){var i=window.YT.PlayerState,o=Object.keys(i).find(function(t){return i[t]===e.data});o&&console.log("Player "+n.id+" is "+o)}a.a.write(function(){["ENDED","PLAYING","PAUSED","BUFFERING","CUED"].forEach(function(t){n&&(n.classList.toggle("youtube__video-"+t.toLocaleLowerCase(),e.data===window.YT.PlayerState[t]),d(n))})}),t&&"function"==typeof t.onPlayerStateChange&&t.onPlayerStateChange(e)}(e,t,s(n))})})}},276:function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return O});var i=n(6),a=(n(1),n(275)),r=n(166),o=n(56),u=n(22),c=n(0),d=n(23),s=n(58),f=n.n(s),l=n(273),m={},y=[];document.addEventListener("focusout",function(){y.forEach(function(e){i.a.read(function(){if(document.activeElement===e)return Object(u.a)(".vjs-big-play-button",e.parentElement)}).then(function(e){i.a.write(function(){e&&e.addClass("youtube-play-btn-focussed")})})})}),document.addEventListener("focusin",function(){i.a.read(function(){return Object(u.a)(".vjs-big-play-button")}).then(function(e){i.a.write(function(){e&&e.removeClass("youtube-play-btn-focussed")})})});var v=function(e){return e.split("/")[0]},b=function(e){m[e].progressTracker&&clearInterval(m[e].progressTracker)},g={ENDED:function(e){var t=m[e];b(e),Object(r.b)("end",v(e)),t.pendingTrackingCalls=[25,50,75];var n=t.iframe&&t.iframe.closest(".immersive-main-media")||null;n&&n.classList.remove("atom-playing")},PLAYING:function(e){var t=m[e],n=t.player.getVideoUrl().split("?v=")[1],i=t.iframe.dataset.assetId;if(t){b(e),n===i&&(function(e){m[e].progressTracker=setInterval(function(e){var t=m[e].player,n=m[e].pendingTrackingCalls;if(n.length){t.duration||(t.duration=t.getDuration());var i=t.getCurrentTime();Math.round(i/t.duration*100)>=n[0]&&(Object(r.b)(n[0],v(e)),n.shift())}}.bind(null,e),1e3),m[e].progressTracker}(e),Object(r.b)("play",v(e)));var a=t.iframe&&t.iframe.closest(".immersive-main-media")||null,o=t.overlay&&t.overlay.parentNode,u=o&&o.querySelector(".end-slate-container");a&&a.classList.add("atom-playing"),t.endSlate&&!u&&t.endSlate.fetch(o,"html")}},PAUSED:function(e){return b(e)}},p=function(){var e=document.querySelector(".immersive-main-media__media .youtube-media-atom"),t=e?e.offsetHeight:0,n=document.querySelector(".immersive-main-media__headline-container"),i=t-(n?n.offsetHeight:0),a=document.querySelector(".youtube-media-atom__immersive-interface");a&&(a.style.top=i+"px")},w=function(e,t,n,i){m[e]={player:i.target,pendingTrackingCalls:[25,50,75],iframe:n},function(e){return("video"===c.a.get("page.contentType","").toLowerCase()&&(c.a.get("page.isDev")?0===document.referrer.indexOf(window.location.origin):0===document.referrer.indexOf(c.a.get("page.host")))&&(m[e].iframe&&m[e].iframe.closest('figure[data-component="main video"]')||!1)||c.a.get("page.isFront"))&&!(Object(d.n)()||Object(d.k)())&&Object(l.a)("flashing-elements")}(e)&&i.target.playVideo(),t&&(m[e].overlay=t,c.a.get("page.section")&&!c.a.get("switches.youtubeRelatedVideos")&&Object(d.l)({min:"desktop"})&&(m[e].endSlate=function(e){var t=e.parentNode;if(t instanceof HTMLElement){var n=(t.dataset||{}).endSlate;if(n){var i=new o.a;return i.endpoint=n,i}}}(t))),n&&n.closest(".immersive-main-media__media")&&(p(),window.addEventListener("resize",f()(p.bind(null),200)))},h=function(e,t){i.a.read(function(){if(e){var n=e.querySelector("div");if(n){y.push(n);var i=(e.getAttribute("data-media-atom-id")||"")+"/"+t;e.setAttribute("data-unique-atom-id",i);var o=e.querySelector(".youtube-media-atom__overlay"),u=e.getAttribute("data-channel-id")||"";Object(r.a)(v(i)),Object(a.a)(n,{onPlayerReady:w.bind(null,i,o,n),onPlayerStateChange:function(e,t){return Object.keys(g).forEach(function(e,t,n){t===window.YT.PlayerState[n]&&g[n]&&g[n](e)}.bind(null,e,t.data))}.bind(null,i)},n.dataset.assetId,u)}}})},T=function(e){e&&i.a.read(function(){Object(u.a)(".youtube-media-atom:not(.no-player)",e).each(function(e,t){var n=e.querySelector(".youtube-media-atom__overlay");c.a.get("page.isFront")?n.addEventListener("click",function(){h(e,t)}):h(e,t)})})},E=function(e){e&&e.length?e.forEach(T):T(document.body)},O=function(e){var t=m[e];t&&t.player.pauseVideo()}},406:function(e,t,n){"use strict";n.r(t),n.d(t,"init",function(){return a});var i=n(276),a=function(){Object(i.a)()}},94:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=function(e,t,n,i,a,r){var o=i,u={eventCategory:"media",eventAction:a(e),eventLabel:n,dimension19:r,dimension20:o},c=t[e.eventType];return c&&(u[c]=1),u},a=function(e){var t=e.mediaType+" ";return e.isPreroll?t+="preroll":t+="content",t}}}]);
//# sourceMappingURL=graun.youtube.js.map